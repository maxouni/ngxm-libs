"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[646],{5646:(z,m,s)=>{s.r(m),s.d(m,{PageTextareaModule:()=>B});var d=s(9808),u=s(2373),x=s(5713),e=s(7587),h=s(3229),l=s(3075),f=s(1135);let c=(()=>{class n{constructor(){this.errorTranslations$=new f.X({})}set errorTranslations(t){this.errorTranslations$.next(Object.assign(Object.assign({},this.errorTranslations$.value),t))}getErrorTranslations(){return this.errorTranslations$.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=s(7579),b=s(1884),v=s(2722),g=s(1777),_=s(4004);let C=(()=>{class n{constructor(t){this.ngxmTextareaService=t}transform(t,r){return this.ngxmTextareaService.getErrorTranslations().pipe((0,_.U)(a=>{if(r)switch(Object.keys(r)[0]){case"max":return(null==a?void 0:a.errorMaxMsg)||"";case"min":return(null==a?void 0:a.errorMinMsg)||"";case"pattern":return(null==a?void 0:a.errorPatternMsg)||"";case"required":return(null==a?void 0:a.errorRequiredMsg)||""}return""}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c,16))},n.\u0275pipe=e.Yjl({name:"ngxmTextareaValidation",type:n,pure:!0}),n})();const Z=["textarea"];function M(n,o){1&n&&(e.TgZ(0,"sup"),e._uU(1,"*"),e.qZA())}function y(n,o){if(1&n&&(e.TgZ(0,"label",6),e._uU(1),e.YNc(2,M,2,0,"sup",7),e.qZA()),2&n){const t=e.oxw();e.uIk("for",t.identifier),e.xp6(1),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf",!0===t.required)}}function N(n,o){if(1&n&&(e.TgZ(0,"div",8),e.TgZ(1,"span",9),e._uU(2),e.ALo(3,"async"),e.ALo(4,"ngxmTextareaValidation"),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.Q6J("@visibilityChanged",t.blured&&(null==t.control?null:t.control.invalid)&&(null==t.control?null:t.control.dirty)),e.xp6(2),e.Oqu(e.lcZ(3,2,e.xi3(4,4,t.error,null==t.control?null:t.control.errors)))}}function A(n,o){if(1&n&&(e.TgZ(0,"span",10),e._UZ(1,"small",11),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",t.description,e.oJD)("@visibilityChanged",(null==t.control?null:t.control.valid)&&t.blured||!t.blured)}}let P=(()=>{class n{constructor(t,r){this.injector=t,this.cd=r,this.identifier="t__"+Math.random().toString().replace(".",""),this.control=null,this.ngStyle={},this.destroy$=new T.x,this.propagateChange=a=>{},this.touchedChange=a=>{}}set minHeight(t){t&&(this.ngStyle=Object.assign(Object.assign({},this.ngStyle),{"min-height":t+"px"}))}ngAfterViewInit(){const t=this.injector.get(l.a5,null);t?(this.control=t.control,this.control.statusChanges.pipe((0,b.x)((r,a)=>r===a),(0,v.R)(this.destroy$)).subscribe(r=>{var a,i;"DISABLED"===r?null===(a=this.control)||void 0===a||a.disable():null===(i=this.control)||void 0===i||i.enable(),this.cd.markForCheck()})):console.warn("Textarea is not defined")}prepareValue(t){return this.maxLength?t.substring(0,this.maxLength):t}changeHandler(t){this.change(this.prepareValue(t.target.value))}patchValue(t){this.ref&&(this.ref.nativeElement.value=this.prepareValue(t)),setTimeout(()=>{this.cd.markForCheck()},100)}onChange(t){this.changeHandler(t)}onBlur(){this.blured=!0}onKeyUp(t){this.changeHandler(t)}change(t){this.cd.markForCheck(),this.propagateChange(t)}writeValue(t){this.patchValue(t)}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){this.touchedChange=t}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngxm-textarea"]],viewQuery:function(t,r){if(1&t&&e.Gf(Z,7),2&t){let a;e.iGM(a=e.CRH())&&(r.ref=a.first)}},inputs:{identifier:"identifier",required:"required",label:"label",error:"error",placeholder:"placeholder",description:"description",formControlName:"formControlName",className:"className",maxLength:"maxLength",disableErrorMessage:"disableErrorMessage",minHeight:"minHeight"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:7,vars:13,consts:[[1,"ngxm-textarea__group","mb-0"],["class","ngxm-textarea__label",4,"ngIf"],[1,"ngxm-textarea",3,"ngStyle","ngClass","change","blur","keyup"],["textarea",""],["class","ngxm-textarea__invalid-feedback",4,"ngIf"],["class","ngxm-textarea__description",4,"ngIf"],[1,"ngxm-textarea__label"],[4,"ngIf"],[1,"ngxm-textarea__invalid-feedback"],[1,"ngxm-textarea__invalid-feedback-box"],[1,"ngxm-textarea__description"],[3,"innerHTML"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.YNc(1,y,3,3,"label",1),e.TgZ(2,"textarea",2,3),e.NdJ("change",function(i){return r.onChange(i)})("blur",function(){return r.onBlur()})("keyup",function(i){return r.onKeyUp(i)}),e._uU(4,"  "),e.qZA(),e.YNc(5,N,5,7,"div",4),e.YNc(6,A,2,2,"span",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",r.label),e.xp6(1),e.ekj("ngxm-textarea--invalid",r.blured&&!(null!=r.control&&r.control.pristine)&&(null==r.control?null:r.control.invalid))("is-valid",r.blured&&(null==r.control?null:r.control.valid)),e.Q6J("ngStyle",r.ngStyle)("ngClass",r.className?r.className:""),e.uIk("maxLength",r.maxLength?r.maxLength:null)("disabled",!(null==r.control||!r.control.disabled)||null)("id",r.identifier)("placeholder",r.placeholder),e.xp6(3),e.Q6J("ngIf",!(r.disableErrorMessage||null!=r.control&&r.control.disabled)),e.xp6(1),e.Q6J("ngIf",r.description))},directives:[d.O5,d.PC,d.mk],pipes:[d.Ov,C],styles:[":root{--ngxm-textarea-color: #212529;--ngxm-textarea-color-invalid: red;--ngxm-textarea-color-disabled: rgba(0, 0, 0, .3);--ngxm-textarea-border-color-invalid: red;--ngxm-textarea-bg-color: #fff;--ngxm-textarea-border-color: rgba(0, 0, 0, .4);--ngxm-textarea-border-color-hover: rgba(0, 0, 0, .6);--ngxm-textarea-border-color-focus: #ffcc00;--ngxm-textarea-border-color-disabled: rgba(0, 0, 0, .3)}.ngxm-textarea[_ngcontent-%COMP%]{outline:none!important;display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;min-height:100px;color:var(--ngxm-textarea-color);background-color:var(--ngxm-textarea-bg-color);background-clip:padding-box;border:1px solid var(--ngxm-textarea-border-color);border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.ngxm-textarea[_ngcontent-%COMP%]:hover{border-color:var(--ngxm-textarea-border-color-hover)}.ngxm-textarea[_ngcontent-%COMP%]:focus{border-color:var(--ngxm-textarea-border-color-focus)}.ngxm-textarea--invalid[_ngcontent-%COMP%], .ngxm-textarea--invalid[_ngcontent-%COMP%]:focus, .ngxm-textarea--invalid[_ngcontent-%COMP%]:hover{border-color:var(--ngxm-textarea-border-color-invalid)!important}.ngxm-textarea[_ngcontent-%COMP%]:disabled{border-color:var(--ngxm-textarea-border-color-disabled)!important;color:var(--ngxm-textarea-color-disabled)!important}.ngxm-textarea__group[_ngcontent-%COMP%]{margin-bottom:25px;position:relative}.ngxm-textarea__label[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.3125rem;display:block}.ngxm-textarea__description[_ngcontent-%COMP%]{position:absolute;left:0}.ngxm-textarea__description[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem;color:#999}.ngxm-textarea__invalid-feedback[_ngcontent-%COMP%]{margin-top:.25rem;font-size:12px;position:absolute;top:100%;right:0;color:var(--ngxm-textarea-color-invalid);opacity:0}.ngxm-textarea__invalid-feedback-box[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;width:100%;display:block}"],data:{animation:[(0,g.X$)("visibilityChanged",[(0,g.SB)("null",(0,g.oB)({opacity:0})),(0,g.SB)("undefined",(0,g.oB)({opacity:0})),(0,g.SB)("false",(0,g.oB)({opacity:0})),(0,g.SB)("true",(0,g.oB)({opacity:1})),(0,g.eR)("*=>*",(0,g.jt)("300ms"))])]},changeDetection:0}),n})();function q(n,o){if(1&n&&(e.TgZ(0,"pre"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.xDo("Test control disabled: ",t.testControl.disabled,"\nTest control status: ",t.testControl.status,"\nTest control dirty: ",t.testControl.dirty,"\nTest control pristine: ",t.testControl.pristine,"\nTest control touched: ",t.testControl.touched,"\n")}}const O=[{path:"",component:(()=>{class n{constructor(t,r,a){this.translate=t,this.fb=r,this.ngxmTextareaService=a,this.title="NGXM Textarea demo page",this.paramsType="text",this.paramsRequired="false",this.paramsShowEye="false",this.paramsShowLoop="false",this.paramsMinHeight=100,this.paramsLabel="Test input control",this.paramsPattern="email",this.paramsError="Error text",this.paramsDescription="Test input control description",this.form=this.fb.group({testControl:this.fb.control(null,[])},{}),this.patterns=x.T,t.setDefaultLang("en"),t.use("en").subscribe(()=>{a.errorTranslations={errorRequiredMsg:this.translate.instant("error.required")}})}get paramsDisabled(){return"false"}set paramsDisabled(t){var r,a;"true"===t?null===(r=this.testControl)||void 0===r||r.disable():null===(a=this.testControl)||void 0===a||a.enable()}get testControl(){return this.form.get("testControl")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.sK),e.Y36(l.qu),e.Y36(c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-page-textarea"]],decls:38,vars:14,consts:[[1,"demo-params"],[1,"demo-params__item"],[3,"ngModel","ngModelChange"],[1,"demo-box",3,"formGroup"],[3,"minHeight","error","required","label","description","formControlName"],[4,"ngIf"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"label"),e._uU(3,"Required"),e.qZA(),e.TgZ(4,"select",2),e.NdJ("ngModelChange",function(i){return r.paramsRequired=i}),e.TgZ(5,"option"),e._uU(6,"true"),e.qZA(),e.TgZ(7,"option"),e._uU(8,"false"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",1),e.TgZ(10,"label"),e._uU(11,"Disabled"),e.qZA(),e.TgZ(12,"select",2),e.NdJ("ngModelChange",function(i){return r.paramsDisabled=i}),e.TgZ(13,"option"),e._uU(14,"true"),e.qZA(),e.TgZ(15,"option"),e._uU(16,"false"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",1),e.TgZ(18,"label"),e._uU(19,"Label text"),e.qZA(),e.TgZ(20,"input",2),e.NdJ("ngModelChange",function(i){return r.paramsLabel=i}),e.qZA(),e.qZA(),e.TgZ(21,"div",1),e.TgZ(22,"label"),e._uU(23,"Description text"),e.qZA(),e.TgZ(24,"textarea",2),e.NdJ("ngModelChange",function(i){return r.paramsDescription=i}),e.qZA(),e.qZA(),e.TgZ(25,"div",1),e.TgZ(26,"label"),e._uU(27,"Min height"),e.qZA(),e.TgZ(28,"input",2),e.NdJ("ngModelChange",function(i){return r.paramsMinHeight=i}),e.qZA(),e.qZA(),e.TgZ(29,"div",1),e.TgZ(30,"label"),e._uU(31,"Error text"),e.qZA(),e.TgZ(32,"input",2),e.NdJ("ngModelChange",function(i){return r.paramsError=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"form",3),e.TgZ(34,"h1"),e._uU(35,"Example for Textarea"),e.qZA(),e._UZ(36,"ngxm-textarea",4),e.YNc(37,q,2,5,"pre",5),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngModel",r.paramsRequired),e.xp6(8),e.Q6J("ngModel",r.paramsDisabled),e.xp6(8),e.Q6J("ngModel",r.paramsLabel),e.xp6(4),e.Q6J("ngModel",r.paramsDescription),e.xp6(4),e.Q6J("ngModel",r.paramsMinHeight),e.xp6(4),e.Q6J("ngModel",r.paramsError),e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(3),e.Q6J("minHeight",+r.paramsMinHeight)("error",r.paramsError)("required","true"===r.paramsRequired)("label",r.paramsLabel)("description",r.paramsDescription)("formControlName","testControl"),e.xp6(1),e.Q6J("ngIf",r.testControl))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,l.Fj,l._Y,l.JL,l.sg,P,l.Q7,l.u,d.O5],styles:["[_nghost-%COMP%]{display:flex;width:100vw;height:100vh;flex-flow:column nowrap}"]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(O)],u.Bz]}),n})();const L=new e.OlP("NGXM_TEXTAREA_LIB_CONFIG"),S={en:{errorRequiredMsg:"Required value"},ru:{errorRequiredMsg:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}},p=(n,o)=>(o.errorTranslations=Object.assign(Object.assign({},S[n.errorsLocale||"en"]),n.errorsMessages),n);let w=(()=>{class n{constructor(t){this.ngxmTextareaService=t,p({},t)}static forRoot(t){return{ngModule:n,providers:[{provide:L,useValue:p,deps:[t,c]}]}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(c))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[c],imports:[[d.ez]]}),n})(),B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,J,l.u5,l.UX,w]]}),n})()}}]);